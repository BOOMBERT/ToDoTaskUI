<div class="container">
    <form [formGroup]="toDoForm" (ngSubmit)="onSubmit()" class="todo-form">
        <div class="todo-form-container">
            <mat-form-field>
                <mat-label>Title</mat-label>
                <input matInput formControlName="title" maxlength="128">
                @let title = toDoForm.get('title');
                @if (title && title.invalid && title.touched) {
                <mat-error>Must be at least 3 characters</mat-error>
                }
            </mat-form-field>
            <mat-form-field>
                <mat-label>Description</mat-label>
                <textarea matInput formControlName="description" rows="7" maxlength="512" style="resize: none;"></textarea>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Expiry date</mat-label>
                <input matInput type="datetime-local" formControlName="ExpiryDate">
                @let expiryDate = toDoForm.get('ExpiryDate');
                @if (expiryDate && expiryDate.invalid && expiryDate.touched) {
                <mat-error>Must be a future date</mat-error>
                }
            </mat-form-field>
            <mat-form-field floatLabel="always">
                <mat-label>Completion percentage</mat-label>
                <input matInput type="number" formControlName="completionPercentage" min="0" max="100" step="0.01" />
                <span matTextSuffix>%</span>
            </mat-form-field>
            
            <button mat-flat-button style="margin: 1rem 0;" type="submit" [disabled]="toDoForm.invalid">Submit</button>
        </div>
    </form>
</div>